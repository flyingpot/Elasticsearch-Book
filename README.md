# 前言

Elasticsearch作为一个开源的分布式全文搜索引擎对于用户来说十分好上手，配合像Kibana这样的可视化工具，拿到就可以用起来。但是对于相关的开发者来说，ES的源码并不是很好看懂。市面上也有ES源码解析的书籍可以帮助开发者理解，但是由于ES版本更新实在太快，开发者拿到书之后会发现ES的版本还在飞速更新，书中的源码就很难和最新的代码对应上。举个例子，张超著的《Elasticsearch 源码解析与优化实战》是在2018年11月出版的，作者参考的版本按照时间来看应该是6版本的末尾。而在我敲下这些文字的10天前，ES刚刚发布了7.10.1版本。当我对照着最新的ES源码看这本书的时候，发现很多地方已经对应不上了。虽然有些地方的思路还是共通的，但是还是有很多东西要自己去看（比如说7版本之前的发现机制，代码里为了兼容性仍然保留了老的实现类ZenDiscovery，现在的开发者就需要看新的实现类Coordinate），这样就很难把ES的源码融会贯通。

于是，我就动心思想要写一本基于最新版本的Elasticsearch源码阅读书籍。一是为了让自己在写书的过程中能更好地理清ES的架构，二是希望能帮到其他需要了解ES原理的开发者。我相信，不管你是需要在ES的基础上做二次开发，还是仅仅是想要了解ES的原理，你都能从这本书中受益。

这本书不会涉及底层搜索引擎Lucene的相关内容，也不会涉及X-Pack相关的商业版特性，仅仅专注于ES的核心原理。

> 当前本书会以一个系列文章的形式呈现，等到ES的内容都大致涉及到之后，我会将逻辑结构整理成章节的形式，敬请期待。

